%\usepackage{draftwatermark}
%\SetWatermarkText{DRAFT}
%\SetWatermarkScale{1}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%           PREAMBLE       %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% acmart formatting
\settopmatter{printfolios=true}

% techreport title
\newcommand{\techreport}{supplementary material}

% short url formatting
\newcommand{\shorturl}[2]{\href{#1#2}{\texttt{#2}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% lattice

\newcommand{\system}{\ensuremath{P}}



\newcommand{\component}{\ensuremath{c}}

\newcommand{\latticeL}{\mathcal{L}}

\newcommand{\lattice}[1]{\ensuremath{\latticeL\llbracket#1\rrbracket}}

\newcommand{\standardlattice}{\lattice{\system}{\kmap}}

\newcommand{\conf}{\ensuremath{s}}

\newcommand{\metric}{\ensuremath{\leq_{\latticeL}^{X}}}

\newcommand{\set}[1]{\ensuremath{\bar{#1}}}

\newcommand{\size}[1]{\ensuremath{\mid #1 \mid}}

\newcommand{\blame}[1]{\ensuremath{blame\llbracket#1\rrbracket}}

\newcommand{\exception}[1]{\ensuremath{exception\llbracket#1\rrbracket}}


\newcommand{\mblame}[1]{\ensuremath{multiblame\llbracket#1\rrbracket}}



\newcommand{\faulty}[1]{\ensuremath{FAULTY\llbracket#1\rrbracket}}

\newcommand{\random}[1]{\ensuremath{random\llbracket#1\rrbracket}}

\newcommand{\error}[1]{\ensuremath{error\llbracket#1\rrbracket}}

\newcommand{\effort}[1]{\ensuremath{EFFORT\llbracket#1\rrbracket}}

\newcommand{\first}[1]{\ensuremath{first\llbracket#1\rrbracket}}

\newcommand{\last}[1]{\ensuremath{last\llbracket#1\rrbracket}}


\newcommand{\modem}{\ensuremath{S}}
\newcommand{\mode}[1]{\ensuremath{\modem\llbracket#1\rrbracket}}





%% misc

\newcommand{\setsize}[1]{\left|#1\right|}

\newcommand{\codesize}{\small}

\newcommand{\codecolor}{black}

\let\OldTexttt\texttt
\renewcommand{\texttt}[1]{\OldTexttt{\color{\codecolor}{#1}}}

\let\Oldtt\tt
\renewcommand{\tt}{\Oldtt \color{\codecolor} }

\newcommand{\todo}[1]{{\textcolor{red}{TODO}\{\textcolor{gray}{#1}\}}}

\newenvironment{code}{\codesize \color{\codecolor} \begin{alltt}}{\end{alltt}}


%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% for leaving margin notes in the paper write
%% \yourinitials{...} 

\def\notes#1{\expandafter\def\csname#1\endcsname##1{\marginpar{\textcolor{red}{\raggedright\tiny $\bullet$ #1 says: ##1}}}}
\notes{mf}
\notes{cd}
\notes{ll}
\notes{bg}


%% \begin{module}{name : lang}{color} ... \end{module}
\newenvironment{module}[2]{
\begin{minipage}[t]{6cm}
\begin{modulecolorbox}[width=6.0cm]{#2}{#1}
\begin{alltt}}{
\end{alltt}
\end{modulecolorbox}
\end{minipage}}

%% \begin{modulecolorbox}[options-for-tcolorbox]{color}{title} ... \end{modulecolorbox}
\newtcolorbox{modulecolorbox}[3][]{
  colframe = #2!25,
  colback  = #2!10,
  coltitle = #2!20!black,  
  title    = {#3},
  #1,
}


%% space between layers of boxes 
\def\spacr{.25cm}

%% colors
\def\typecolor{blue}
\def\dyncolor{red}

